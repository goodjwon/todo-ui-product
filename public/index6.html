<!DOCTYPE html>
<html lang="en">
<head>
	<meta charset="UTF-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">
	<title>Document</title>
	<style>
		.head {
			width: 100%;
			display: flex;
			flex-direction: row;
			justify-content: space-between;
			align-items: center;
			margin: 10px;
		}
		.title{
			font-size: 30px;
			font-weight: bold;
		}
		.content {
			width: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
		}
		.main_table_header{
			width: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
		}
		.main_table_tbody{
			width: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
		}
		.control{
			width: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: row;
		}
		.footer{
			width: 100%;
			display: flex;
			justify-content: center;
			align-items: center;
			flex-direction: column;
		}
		.modify-btn{
			margin-right: 5px;
		}
		.input{
			width: 100px;
			display: flex;
			justify-content: center;
			align-items: center;
			margin: 10px;
		}
	</style>
</head>
<body>
	<div class="container">
		<div class="head">
			<h1 class="title">테블행추하기연습</h1>
		</div>
		<div class="content">
			<table class="main_table">
				<thead class="main_table_header">
					<tr>
						<th>순번</th>
						<th>제목</th>
						<th>이름</th>
						<th>이메일</th>
						<th>가입일</th>
						<th>기능</th>
					</tr>
				</thead>
				<tbody class="main_table_tbody">
					<tr>
						<td>1</td>
						<td>나는 슈퍼개발자다.</td>
						<td>홍길동</td>
						<td>goodjwon@gmail.com</td>
						<td>2022-11-22</td>
						<td>
							<button class="btn btn-primary">수정</button>
							<button class="btn btn-danger">삭제</button>
						</td>
					</tr>
					<tr>
						<td>2</td>
						<td>나는 슈퍼개발자가 되고싶다.</td>
						<td>김땡땡</td>
						<td>dymyddll@gmail.com</td>
						<td>2018-10-11</td>
						<td>
							<button class="btn btn-primary">수정</button>
							<button class="btn btn-danger">삭제</button>
						</td>
					</tr>
				</tbody>
			</table>
		</div>
		<div class="control">
			<input type="text" class="input" name="title" id="title" required/>
			<input type="text" class="input" name="name" id="name" required/>
			<input type="text" class="input" name="email" id="email" required/>
			<button class="add_row">행추가</button>
		</div>
		<div class="footer">
			make by gj
		</div>
	</div>
</body>
<script>
	const button = document.querySelector('.add_row');
	const tbody = document.querySelector('.main_table_tbody');
	const useName = document.querySelector('#name');
	const email = document.querySelector('#email');
	const title = document.querySelector('#title');
	const currentDate = new Date();
	const dateOptions = {weekday: "long", year: "numeric", month: "long", day: "numeric"};
	
	
	button.addEventListener('click', function(){
		
		if(validateForm()){
			let seq = document.querySelector('.main_table_tbody tr:last-child td:first-child').innerText;
			const modifyButton = document.createElement('button');
			modifyButton.innerHTML = '수정';
			modifyButton.classList.add('modify-btn');

			let modeNumber = parseInt(seq) + 1;

			const trashButton = document.createElement("button");
			trashButton.innerHTML = `삭제`;
			trashButton.classList.add("trash-btn");

			const tr = document.createElement('tr');
			const td1 = document.createElement('td');
			const td2 = document.createElement('td');
			const td3 = document.createElement('td');
			const td4 = document.createElement('td');
			const td5 = document.createElement('td');
			const td6 = document.createElement('td');

			td1.textContent = modeNumber ;
			td2.textContent = title.value;
			td3.textContent = useName.value;
			td4.textContent = email.value;
			td5.textContent = currentDate.toLocaleDateString("ko-KR", dateOptions);
			
			td6.appendChild(modifyButton)
			td6.appendChild(trashButton)
			tr.appendChild(td1);
			tr.appendChild(td2);
			tr.appendChild(td3);
			tr.appendChild(td4);
			tr.appendChild(td5);
			tr.appendChild(td6);
			tbody.appendChild(tr);
		}
	});

	const validateForm = () => {
		if (title.value === "" || useName.value === "" || email.value === "") {
			alert("모든 항목을 입력해주세요.");
			return false;
		}
		return true;
	};

</script>
</html>